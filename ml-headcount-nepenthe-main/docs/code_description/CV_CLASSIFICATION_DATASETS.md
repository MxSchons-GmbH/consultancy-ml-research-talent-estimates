# ML Headcount Research: Full CV Classification Results Datasets

*AI Post-Analysis - Generated by Claude Sonnet*

## Overview

This document provides comprehensive documentation of the full CV classification results datasets used in the ML headcount research study. The research employed two complementary classification methods to identify technical ML talent in IT consultancy companies: keyword-based filtering and LLM-based classification. These datasets contain the complete classification results for all ~250,000 LinkedIn profiles evaluated in the study.

## Dataset Architecture

The research used a two-stage classification approach:

1. **Keyword Filtering**: Initial screening using learned keywords from manually rated CVs
2. **LLM Classification**: Advanced evaluation using three different language models

Both methods were applied to three distinct profile datasets representing different stages of the research pipeline.

## Keyword-Based CV Classification Datasets

**Location**: `raw_data/outputs_keyword_search_CVs/keyword_filter_output/`

These datasets contain the complete keyword-based classification results for all LinkedIn profiles, with binary flags for ML match, broad match, and strict no-match criteria.

### 1. 2025-08-07 profiles_filtered.csv (85,409 records)
- **Purpose**: Initial broad sampling of LinkedIn profiles from IT consultancy companies
- **Source**: Original "85k profiles" baseline dataset
- **Significance**: Used to validate keyword filtering approach and LLM evaluation methods
- **ML Match Rate**: 1.9% (1,655 matches)
- **Broad Match Rate**: 1.4% (1,193 matches)
- **Strict No Match Rate**: 75.5% (64,454 matches)

### 2. 2025-08-14-big-consulting_filtered.csv (49,724 records)
- **Purpose**: Focused sampling from large consulting firms
- **Significance**: Represents enterprise-scale IT consultancies (≥500 ML staff, >0.5% ML talent)
- **Content**: Major consulting firms like Accenture, Capgemini, Booz Allen Hamilton
- **ML Match Rate**: 1.0% (503 matches)
- **Broad Match Rate**: 1.9% (967 matches)
- **Strict No Match Rate**: 64.2% (31,902 matches)

### 3. 2025-08-15-comparator_filtered.csv (115,577 records)
- **Purpose**: Comparative analysis dataset for final evaluation
- **Significance**: Comprehensive dataset including all company size categories
- **Content**: Broader sampling across enterprise, mid-scale, and boutique consultancies
- **ML Match Rate**: 0.5% (535 matches)
- **Broad Match Rate**: 0.9% (1,040 matches)
- **Strict No Match Rate**: 75.6% (87,322 matches)

## LLM-Based CV Classification Datasets

**Location**: `raw_data/results_*_evaluations/` and `raw_data/results_*_comparator/`

These datasets contain the complete LLM-based classification results for all LinkedIn profiles, with accept/reject decisions and detailed reasoning from three different language models.

### Models Used
- **Gemini 2.5 Flash** (temperature 0.0)
- **GPT-5 Mini** 
- **Sonnet 4** (temperature 0.0)

### Dataset Correspondence

| Dataset | Keyword Filter Records | LLM Evaluation Records | Difference | Match Rate |
|---------|----------------------|----------------------|------------|------------|
| **2025-08-07 profiles** | 85,409 | 85,422 | 13 | 99.98% |
| **2025-08-14-big-consulting** | 49,724 | 49,652 | 72 | 99.85% |
| **2025-08-15-comparator** | 115,577 | 114,151 | 1,426 | 98.77% |

### LLM Acceptance Rates (Gemini 2.5 Flash)

| Dataset | Total Profiles | Accepts | Rejects | Acceptance Rate |
|---------|---------------|---------|---------|-----------------|
| **85k dataset** | 85,059 | 3,250 | 81,809 | 3.8% |
| **49k dataset** | 49,652 | 541 | 49,111 | 1.1% |
| **115k dataset** | 114,151 | 3,431 | 110,720 | 3.0% |

## Data Structure

### Keyword-Based CV Classification Data Format
```csv
id,ml_match,broad_match,strict_no_match
yamashita-osamu-87a28a14,0,0,1
aleksandrvol,0,0,0
vadimbespalov,0,0,1
```

### LLM-Based CV Classification Data Format
```json
{
  "linkedin_id": "yamashita-osamu-87a28a14",
  "company_id": "nec",
  "evaluation": "REJECT",
  "reasoning": "...",
  "model": "gemini-2.5-flash"
}
```

## Filtering Logic

### Keyword-Based CV Classification Rules

**ML Match Keywords**:
- "machine learning", "machine-learning", "ML"
- "deep learning", "deep-learning" 
- "reinforcement learning", "reinforcement-learning", "RL"

**Broad Match Keywords**:
- "augmented generation", "agent reinforcement"
- "research scientist", "evals", "interpretability"
- "feature engineering", "research intern"
- "graduate research assistant", "staff research scientist"

**Strict No Match Keywords** (exclusion):
- "certificate", "programmer", "council", "companies"
- "management", "customer", "administrator"
- "track record", "investment", "hr"
- "certified machine", "qualification"

### LLM-Based CV Classification Prompt
The LLM evaluation used the following criteria:

**GOOD FIT** - Look for:
- Built neural networks or created novel architectures
- Deep understanding demonstrated through custom loss functions, attention mechanisms
- Advanced degree in ML WITH thesis/research on model architecture
- Implemented training algorithms or frameworks from scratch
- LLM/RLHF experience

**NOT A FIT** - Reject if primarily:
- Using pre-built models (even advanced ones like fine-tuning LLMs)
- Data Scientists (dashboards, analytics, A/B tests)
- MLOps/DevOps without architecture design
- Hardware optimization for ML without model design
- Applied ML without evidence of understanding underlying math/algorithms

## Research Methodology

### Data Collection Pipeline
1. **Company Identification**: 2,121 companies identified and screened
2. **Profile Extraction**: LinkedIn profiles collected via BrightData
3. **Keyword-Based CV Classification**: Initial screening using learned keywords
4. **LLM-Based CV Classification**: Advanced classification using three models
5. **Validation**: Cross-validation between methods
6. **Work Trials**: Ground-truth validation with selected organizations

### Quality Assurance
- **High Data Integrity**: LinkedIn IDs match between keyword and LLM datasets
- **Conservative Filtering**: Low acceptance rates (1-4%) ensure high precision
- **Multiple Validation**: Both keyword-based and LLM-based CV classification methods applied to same profiles
- **Iterative Refinement**: Dataset evolution from broad sampling to focused analysis

## Key Research Insights

### Dataset Evolution
The progression from 85k → 49k → 115k records shows an iterative refinement process:
- **85k**: Broad baseline sampling for method validation
- **49k**: Focused analysis on enterprise consulting firms
- **115k**: Comprehensive comparative dataset for final analysis

### CV Classification Performance
- **Keyword-Based Classification**: 0.5-1.9% ML match rates across datasets
- **LLM-Based Classification**: 1.1-3.8% acceptance rates across datasets
- **Conservative Approach**: Both methods prioritize precision over recall

### Research Impact
- **Total Profiles Analyzed**: ~250,000 across all datasets
- **Final ML Talent Estimate**: 17,124 technical ML employees across 130 organizations
- **Validation**: 8 organizations participated in 3-day work trials
- **Success Rate**: 62.5% of work trial participants received conditional recommendations

## File Organization

```
raw_data/
├── outputs_keyword_search_CVs/
│   └── keyword_filter_output/
│       ├── 2025-08-07 profiles_filtered.csv
│       ├── 2025-08-14-big-consulting_filtered.csv
│       ├── 2025-08-15-comparator_filtered.csv
│       └── filter_profiles.sh
├── results_85k_evaluations/
│   ├── gemini-2.5-flash-t0.0/
│   ├── gpt-5-mini/
│   └── sonnet-4-t0.0/
├── results_49k_evaluation_big_companies/
│   ├── gemini-2.5-flash/
│   ├── gpt-5-mini/
│   └── sonnet-4/
└── results_115k_comparator/
    ├── gemini-2.5-flash/
    ├── gpt-5-mini/
    └── sonnet-4/
```

## Research Paper Reference

This analysis supports the findings documented in:
- **Paper**: "Sourcing technical AI alignment capacity from IT consultancies: systematic search, machine-learning headcount estimates and work trials"
- **Authors**: Dr Maximilian Schons, Red Bermejo, Florian Adelhof Zeidler, Niccolò Zanichelli
- **Key Result**: Identified 17,124 technical ML employees across 130 organizations with 80% confidence intervals

## Technical Notes

### Data Processing
- **LinkedIn Data Source**: BrightData API for profile extraction
- **Processing Pipeline**: Custom shell scripts and Python processing
- **Validation**: Cross-reference between keyword and LLM results
- **Quality Control**: Manual validation on subset of profiles

### Computational Resources
- **LLM APIs**: Google Gemini, OpenAI GPT-5, Anthropic Sonnet
- **Batch Processing**: Efficient batch API usage for large-scale evaluation
- **Processing Time**: Sonnet 4 completed all batches in 2.5 minutes
- **Cost Optimization**: Selected models based on performance/cost trade-offs

## LinkedIn ID to Company Organization Mapping

**Critical for ML Headcount Analysis**: Each LinkedIn profile is mapped to its current company organization, enabling aggregation of ML talent estimates at the organizational level.

### Mapping Data Sources

**Primary Source**: LinkedIn profile JSON files containing current employment information
- **2025-08-07 profiles**: `raw_data/input profiles/2025-08-07 profiles.jsonl.gz` (85k profiles)
- **2025-08-14-big-consulting**: `raw_data/input profiles/2025-08-14-big-consulting.jsonl.gz` (49k profiles)  
- **2025-08-15-comparator**: `raw_data/input profiles/2025-08-15-comparator.jsonl.gz` (115k profiles)

### Mapping Structure

Each profile contains:
```json
{
  "linkedin_id": "yamashita-osamu-87a28a14",
  "current_company": {
    "company_id": "nec",
    "name": "NEC Corporation", 
    "location": "Japan",
    "title": "Senior Manager"
  }
}
```

### Mapping Coverage

| Dataset | Total Profiles | Company Mapping Rate | LLM Evaluation Records |
|---------|---------------|---------------------|----------------------|
| **2025-08-07 profiles** | 85,000 | 100.0% | 85,249 |
| **2025-08-14-big-consulting** | 49,000 | 100.0% | 49,718 |
| **2025-08-15-comparator** | 115,000 | 99.6% | 114,344 |

### Integration with Classification Results

**Keyword-Based Classification**: LinkedIn IDs in keyword filter results directly correspond to profiles with company mappings.

**LLM-Based Classification**: Evaluation results already contain `current_company_company_id` field with 99.8-99.9% coverage across all datasets.

### Usage for ML Headcount Analysis

The LinkedIn ID → company mapping enables:
- **Organizational Aggregation**: Sum ML talent counts per company
- **Geographic Analysis**: Use company locations for regional breakdowns  
- **Work Trial Selection**: Identify target organizations based on ML talent density
- **Headcount Estimation**: Connect individual profile classifications to organizational-level estimates

### Existing Mapping Infrastructure

**Lookup File Generation**: The research team created optimized lookup files for efficient batch processing:
- **Script**: `original-code/scripts_2025-10-01/concat_batch_results_optimized.sh`
- **Output**: `profiles_lookup.txt` (format: `linkedin_id company_id`)
- **Purpose**: Fast lookup during LLM evaluation result processing

**Null Company ID Fixing**: Automated correction for missing company mappings:
- **Script**: `original-code/scripts_2025-10-01/fix_null_company_ids_fast.sh`
- **Methods**: Trimming spaces, case normalization, URL decoding
- **Success Rate**: 99.6%+ coverage across all datasets

**Integration Points**:
- LLM evaluation results already contain `current_company_company_id` field
- Keyword filter results use same LinkedIn IDs as profile mappings
- All datasets maintain consistent LinkedIn ID → company mapping

## Company Database for Organizational Size Data

**Location**: `data/company_database.tsv`

The company database provides essential organizational size information for joining with CV classification datasets. This dataset contains comprehensive size metrics for 299 companies identified in the research, enabling analysis of ML talent density across different organizational scales.

### Database Schema

| Column | Type | Description | Coverage |
|--------|------|-------------|----------|
| `id` | string | Unique company identifier (matches LinkedIn company_id) | 100% (299/299) |
| `employees` | JSON | Number of employees (note: contains JSON data, not numeric) | 100% (299/299) |
| `company_size` | string | Categorical size classification | 98.7% (295/299) |
| `employees_in_linkedin` | float64 | LinkedIn employee count (numeric) | 99.3% (297/299) |

### Organizational Size Statistics

#### Company Size Distribution
| Size Category | Count | Percentage |
|---------------|-------|------------|
| 11-50 employees | 144 | 48.2% |
| 51-200 employees | 73 | 24.4% |
| 201-500 employees | 35 | 11.7% |
| 501-1,000 employees | 13 | 4.3% |
| 1,001-5,000 employees | 10 | 3.3% |
| 2-10 employees | 9 | 3.0% |
| 10,001+ employees | 6 | 2.0% |
| 1 employee | 2 | 0.7% |
| 5,001-10,000 employees | 2 | 0.7% |
| Other | 1 | 0.3% |

#### LinkedIn Employee Count Statistics
- **Total companies with data**: 297 (99.3%)
- **Mean LinkedIn employees**: 356.8
- **Median LinkedIn employees**: 29.0
- **Range**: 0 - 17,609 employees
- **Companies with >100 employees**: 89 (29.8%)
- **Companies with >1,000 employees**: 16 (5.4%)

### Data Quality Assessment

#### Coverage Metrics
- **Complete size data**: 295/299 companies (98.7%)
- **LinkedIn employee counts**: 297/299 companies (99.3%)
- **Missing data**: Only 4 companies lack size information

#### Data Consistency
- **High reliability**: LinkedIn employee counts provide numeric size data
- **Categorical backup**: Company size categories offer standardized classifications
- **Direct joinability**: Company IDs match LinkedIn profile company mappings

### Joining with CV Classification Datasets

#### Primary Join Strategy
```python
# 1. Load CV classification results
cv_results = pd.read_csv('raw_data/outputs_keyword_search_CVs/keyword_filter_output/2025-08-07_profiles_filtered.csv')

# 2. Load LinkedIn profile mappings
profiles = pd.read_json('raw_data/input profiles/2025-08-07 profiles.jsonl.gz', lines=True)
company_mappings = profiles[['linkedin_id', 'current_company_company_id']].dropna()

# 3. Load company database
company_db = pd.read_csv('data/company_database.tsv', sep='\t')

# 4. Join CV results with company size data
cv_with_company = cv_results.merge(
    company_mappings, 
    left_on='id', 
    right_on='linkedin_id', 
    how='left'
).merge(
    company_db, 
    left_on='current_company_company_id', 
    right_on='id', 
    how='left'
)
```

#### Join Success Rate
- **LinkedIn profiles with company mappings**: 99.4% (994/1,000 sampled)
- **Company ID overlap with database**: 95.5% (106/111 unique companies)
- **Expected join success rate**: ~95% for CV classification datasets

#### Available Size Metrics After Join
- `employees_in_linkedin`: Numeric LinkedIn employee count
- `company_size`: Categorical size classification
- `id`: Company identifier for additional lookups

### Usage for ML Headcount Analysis

#### Organizational Aggregation
```python
# Aggregate ML talent by company size
ml_talent_by_size = cv_with_company.groupby('company_size').agg({
    'ml_match': 'sum',
    'id': 'count'
}).rename(columns={'id': 'total_profiles'})

# Calculate ML talent density
ml_talent_by_size['ml_density'] = ml_talent_by_size['ml_match'] / ml_talent_by_size['total_profiles']
```

#### Size-Based Filtering
- **Enterprise companies**: `company_size == '10,001+ employees'`
- **Mid-scale companies**: `company_size.isin(['1,001-5,000 employees', '5,001-10,000 employees'])`
- **Small companies**: `company_size.isin(['11-50 employees', '51-200 employees'])`

#### Geographic Analysis
The company database can be combined with geographic data from LinkedIn profiles for regional ML talent analysis across different company sizes.

### Data Limitations

1. **Limited scope**: 299 companies may not cover all organizations in CV datasets
2. **JSON employees column**: The `employees` column contains JSON data rather than numeric values
3. **LinkedIn dependency**: Size data relies on LinkedIn's employee count estimates
4. **Temporal variation**: Employee counts may change over time

### Recommended Usage

1. **Primary size metric**: Use `employees_in_linkedin` for numeric analysis
2. **Categorical analysis**: Use `company_size` for standardized groupings
3. **Supplement with BrightData**: For companies not in this database
4. **Validate with comparator analysis**: For high-profile organizations

---
*Documentation generated on: $(date)*
*Source: Comprehensive analysis of ML headcount research datasets*
